<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Thread::Every
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Thread::Every";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Thread.html" title="Thread (class)">Thread</a></span></span>
     &raquo; 
    <span class="title">Every</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Thread::Every
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Thread::Every</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>thread-0.2.2/lib/thread/every.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>An every runs the given block every given seconds, you can then get the
value, check if the value is old and you can check how many seconds until
the next run.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="Cancel-constant" class="">Cancel =
        
      </dt>
      <dd><pre class="code"><span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>Exception</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="Restart-constant" class="">Restart =
        
      </dt>
      <dd><pre class="code"><span class='const'>Class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>Exception</span><span class='rparen'>)</span></pre></dd>
    
  </dl>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finalizer-class_method" title="finalizer (class method)">.<strong>finalizer</strong>(thread)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#called_at-instance_method" title="#called_at (instance method)">#<strong>called_at</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the Time when the block was called.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cancel-instance_method" title="#cancel (instance method)">#<strong>cancel</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Cancel the every, <span class='object_link'><a href="#value-instance_method" title="Thread::Every#value (method)">#value</a></span> will yield a Cancel exception.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cancelled%3F-instance_method" title="#cancelled? (instance method)">#<strong>cancelled?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if the every has been cancelled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cancelled_at-instance_method" title="#cancelled_at (instance method)">#<strong>cancelled_at</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks when the every was cancelled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every-instance_method" title="#every (instance method)">#<strong>every</strong>(seconds)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change the number of seconds between each call.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(every, &amp;block)  &#x21d2; Every </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create an every with the given seconds and block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next_in-instance_method" title="#next_in (instance method)">#<strong>next_in</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets how many seconds are missing before another call.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#old%3F-instance_method" title="#old? (instance method)">#<strong>old?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if the every is old, after the first #value call it becomes old,
until another run of the block is gone).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restart-instance_method" title="#restart (instance method)">#<strong>restart</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Restart the every.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#running%3F-instance_method" title="#running? (instance method)">#<strong>running?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if the every is running.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value-instance_method" title="#value (instance method)">#<strong>value</strong>(timeout = nil)  &#x21d2; Object </a>
    

    
      (also: #~)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the current every value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value!-instance_method" title="#value! (instance method)">#<strong>value!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the current every value, without blocking and waiting for the next
call.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(every, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="" title="Thread::Every (class)">Every</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create an every with the given seconds and block.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_every'>every</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no block given</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_block'>block</span>

	<span class='ivar'>@every</span>  <span class='op'>=</span> <span class='id identifier rubyid_every'>every</span>
	<span class='ivar'>@old</span>    <span class='op'>=</span> <span class='kw'>true</span>
	<span class='ivar'>@mutex</span>  <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='ivar'>@thread</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Thread.html" title="Thread (class)">Thread</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span>
		<span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
			<span class='kw'>begin</span>
				<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>

				<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
					<span class='ivar'>@at</span>        <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
					<span class='ivar'>@value</span>     <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
					<span class='ivar'>@old</span>       <span class='op'>=</span> <span class='kw'>false</span>
					<span class='ivar'>@exception</span> <span class='op'>=</span> <span class='kw'>nil</span>
				<span class='rbrace'>}</span>
			<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="#Restart-constant" title="Thread::Every::Restart (constant)">Restart</a></span></span>
				<span class='kw'>next</span>
			<span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
				<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
					<span class='ivar'>@at</span>        <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
					<span class='ivar'>@exception</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
				<span class='rbrace'>}</span>

				<span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="#Cancel-constant" title="Thread::Every::Cancel (constant)">Cancel</a></span></span>
			<span class='kw'>end</span>

			<span class='id identifier rubyid_cond'>cond</span><span class='period'>.</span><span class='id identifier rubyid_broadcast'>broadcast</span> <span class='kw'>if</span> <span class='id identifier rubyid_cond?'>cond?</span>

			<span class='kw'>begin</span>
				<span class='id identifier rubyid_sleep'>sleep</span> <span class='ivar'>@every</span>
			<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="#Restart-constant" title="Thread::Every::Restart (constant)">Restart</a></span></span>
				<span class='kw'>next</span>
			<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="#Cancel-constant" title="Thread::Every::Cancel (constant)">Cancel</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
				<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
					<span class='ivar'>@at</span>        <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
					<span class='ivar'>@exception</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span>
				<span class='rbrace'>}</span>

				<span class='kw'>break</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>
	<span class='rbrace'>}</span>

	<span class='const'>ObjectSpace</span><span class='period'>.</span><span class='id identifier rubyid_define_finalizer'>define_finalizer</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_finalizer'>finalizer</span><span class='lparen'>(</span><span class='ivar'>@thread</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="finalizer-class_method">
  
    .<strong>finalizer</strong>(thread)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 70</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_finalizer'>finalizer</span><span class='lparen'>(</span><span class='id identifier rubyid_thread'>thread</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span>
		<span class='id identifier rubyid_thread'>thread</span><span class='period'>.</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="#Cancel-constant" title="Thread::Every::Cancel (constant)">Cancel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Thread::Every#initialize (method)">new</a></span></span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="called_at-instance_method">
  
    #<strong>called_at</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the Time when the block was called.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid_called_at'>called_at</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@at</span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cancel-instance_method">
  
    #<strong>cancel</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Cancel the every, <span class='object_link'><a href="#value-instance_method" title="Thread::Every#value (method)">#value</a></span> will yield a Cancel exception.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cancel'>cancel</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@thread</span><span class='period'>.</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="#Cancel-constant" title="Thread::Every::Cancel (constant)">Cancel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Thread::Every#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>every cancelled</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
	<span class='rbrace'>}</span>

	<span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cancelled?-instance_method">
  
    #<strong>cancelled?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if the every has been cancelled.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cancelled?'>cancelled?</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@exception</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="#Cancel-constant" title="Thread::Every::Cancel (constant)">Cancel</a></span></span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cancelled_at-instance_method">
  
    #<strong>cancelled_at</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks when the every was cancelled.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cancelled_at'>cancelled_at</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_cancelled?'>cancelled?</span>
		<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
			<span class='ivar'>@at</span>
		<span class='rbrace'>}</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every-instance_method">
  
    #<strong>every</strong>(seconds)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change the number of seconds between each call.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every'>every</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
	<span class='ivar'>@every</span> <span class='op'>=</span> <span class='id identifier rubyid_seconds'>seconds</span>

	<span class='id identifier rubyid_restart'>restart</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="next_in-instance_method">
  
    #<strong>next_in</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets how many seconds are missing before another call.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_next_in'>next_in</span>
	<span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_cancelled?'>cancelled?</span>

	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@every</span> <span class='op'>-</span> <span class='lparen'>(</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span> <span class='op'>-</span> <span class='ivar'>@at</span><span class='rparen'>)</span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="old?-instance_method">
  
    #<strong>old?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if the every is old, after the first #value call it becomes old,
until another run of the block is gone)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_old?'>old?</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@old</span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restart-instance_method">
  
    #<strong>restart</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Restart the every.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restart'>restart</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@thread</span><span class='period'>.</span><span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="#Restart-constant" title="Thread::Every::Restart (constant)">Restart</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Thread::Every#initialize (method)">new</a></span></span>
	<span class='rbrace'>}</span>

	<span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="running?-instance_method">
  
    #<strong>running?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if the every is running.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_running?'>running?</span>
	<span class='op'>!</span><span class='id identifier rubyid_cancelled?'>cancelled?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value-instance_method">
  
    #<strong>value</strong>(timeout = nil)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='~-instance_method'>~</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the current every value.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149
150
151
152
153
154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 147</span>

<span class='kw'>def</span> <span class='id identifier rubyid_value'>value</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='kw'>if</span> <span class='ivar'>@old</span>
			<span class='id identifier rubyid_cond'>cond</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='ivar'>@mutex</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_timeout'>timeout</span><span class='rparen'>)</span>
		<span class='kw'>end</span>

		<span class='ivar'>@old</span> <span class='op'>=</span> <span class='kw'>true</span>

		<span class='kw'>if</span> <span class='ivar'>@exception</span>
			<span class='id identifier rubyid_raise'>raise</span> <span class='ivar'>@exception</span>
		<span class='kw'>else</span>
			<span class='ivar'>@value</span>
		<span class='kw'>end</span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value!-instance_method">
  
    #<strong>value!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the current every value, without blocking and waiting for the next
call.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'thread-0.2.2/lib/thread/every.rb', line 167</span>

<span class='kw'>def</span> <span class='id identifier rubyid_value!'>value!</span>
	<span class='ivar'>@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span>
		<span class='ivar'>@old</span> <span class='op'>=</span> <span class='kw'>true</span>

		<span class='ivar'>@value</span> <span class='kw'>unless</span> <span class='ivar'>@exception</span>
	<span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun May 27 01:49:32 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.2.10).
</div>

    </div>
  </body>
</html>