<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
sudo: false
language: ruby
rvm:
  - 2.2.10
before_install: gem install bundler -v 1.16.1
=======
language: python
python:
  - "2.6"
  - "2.7"
  - "3.3"
  - "3.4"
  - "3.5"
  - "3.6"
  # - "pypy" - won't work as smmap doesn't work (see smmap/.travis.yml for details)

git:
  # a higher depth is needed for one of the tests - lets fet
  depth: 1000
install:
  - pip install coveralls
script: 
  - ulimit -n 48
  - ulimit -n
  - nosetests -v --with-coverage
after_success:
  - coveralls

>>>>>>> abeb3f030da8c968ccc42c587512c2741151b8e4
=======
sudo: false
language: python
services:
  - docker
branches:
  only:
    - v2
before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -o Dpkg::Options::="--force-confold" --force-yes -y docker-engine
python:
  - "2.7"
  - "3.5"
  - "3.6"
install: pip install tox-travis
script: tox
>>>>>>> d2d2dce8a61ea35094b5fef4afb8aa48f28a985d
=======
language: python
python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"
  - "3.6-dev"
  - "3.7-dev"
  - "nightly"
  # - "pypy" - won't work as smmap doesn't work (see gitdb/.travis.yml for details)
matrix:
  allow_failures:
    - python: "3.6-dev"
    - python: "3.7-dev"
    - python: "nightly"
git:
  # a higher depth is needed for most of the tests - must be high enough to not actually be shallow
  # as we clone our own repository in the process
  depth: 99999
install:
  - python --version; git --version
  - git submodule update --init --recursive
  - git fetch --tags
  - pip install -r test-requirements.txt
  - pip install codecov sphinx

  # generate some reflog as git-python tests need it (in master)
  - ./init-tests-after-clone.sh

  # as commits are performed with the default user, it needs to be set for travis too
  - git config --global user.email "travis@ci.com"
  - git config --global user.name "Travis Runner"
  # If we rewrite the user's config by accident, we will mess it up
  # and cause subsequent tests to fail
  - cat git/test/fixtures/.gitconfig >> ~/.gitconfig
script:
  # Make sure we limit open handles to see if we are leaking them
  - ulimit -n 128
  - ulimit -n
  - nosetests -v --with-coverage
  - if [ "$TRAVIS_PYTHON_VERSION" == '3.4' ]; then flake8; fi
  - if [ "$TRAVIS_PYTHON_VERSION" == '3.5' ]; then cd doc && make html; fi
  -
after_success:
  - codecov
>>>>>>> 05e3b0e58487c8515846d80b9fffe63bdcce62e8
