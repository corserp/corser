<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class TestRakeFunctional - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Rake/TestCase.html">Rake::TestCase</a>
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="RubyRunner.html">RubyRunner</a>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-can_detect_signals-3F">#can_detect_signals?</a>
    
    <li class="calls-super" ><a href="#method-i-setup">#setup</a>
    
    <li ><a href="#method-i-test_anonymous_tasks_can_be_invoked_indirectly">#test_anonymous_tasks_can_be_invoked_indirectly</a>
    
    <li ><a href="#method-i-test_block_verbose_false_should_not_show_command">#test_block_verbose_false_should_not_show_command</a>
    
    <li ><a href="#method-i-test_block_verbose_true_should_show_command">#test_block_verbose_true_should_show_command</a>
    
    <li ><a href="#method-i-test_by_default_rakelib_files_are_included">#test_by_default_rakelib_files_are_included</a>
    
    <li ><a href="#method-i-test_can_invoke_task_in_nested_namespace">#test_can_invoke_task_in_nested_namespace</a>
    
    <li ><a href="#method-i-test_can_invoke_task_in_toplevel_namespace">#test_can_invoke_task_in_toplevel_namespace</a>
    
    <li ><a href="#method-i-test_comment_after_desc_is_ignored">#test_comment_after_desc_is_ignored</a>
    
    <li ><a href="#method-i-test_comment_before_desc_is_ignored">#test_comment_before_desc_is_ignored</a>
    
    <li ><a href="#method-i-test_comment_before_task_acts_like_desc">#test_comment_before_task_acts_like_desc</a>
    
    <li ><a href="#method-i-test_comment_separated_from_task_by_blank_line_is_not_picked_up">#test_comment_separated_from_task_by_blank_line_is_not_picked_up</a>
    
    <li ><a href="#method-i-test_correct_number_of_tasks_reported">#test_correct_number_of_tasks_reported</a>
    
    <li ><a href="#method-i-test_dash_f_with_no_arg_foils_rakefile_lookup">#test_dash_f_with_no_arg_foils_rakefile_lookup</a>
    
    <li ><a href="#method-i-test_dot_rake_files_can_be_loaded_with_dash_r">#test_dot_rake_files_can_be_loaded_with_dash_r</a>
    
    <li ><a href="#method-i-test_dry_run">#test_dry_run</a>
    
    <li ><a href="#method-i-test_dry_run_bug">#test_dry_run_bug</a>
    
    <li ><a href="#method-i-test_env_available_at_task_scope">#test_env_available_at_task_scope</a>
    
    <li ><a href="#method-i-test_env_available_at_top_scope">#test_env_available_at_top_scope</a>
    
    <li ><a href="#method-i-test_failing_test_sets_exit_status">#test_failing_test_sets_exit_status</a>
    
    <li ><a href="#method-i-test_file_creation_task">#test_file_creation_task</a>
    
    <li ><a href="#method-i-test_file_list_is_requirable_separately">#test_file_list_is_requirable_separately</a>
    
    <li ><a href="#method-i-test_file_task_are_not_scoped_by_namespaces">#test_file_task_are_not_scoped_by_namespaces</a>
    
    <li ><a href="#method-i-test_file_task_dependencies_scoped_by_namespaces">#test_file_task_dependencies_scoped_by_namespaces</a>
    
    <li ><a href="#method-i-test_implicit_system">#test_implicit_system</a>
    
    <li ><a href="#method-i-test_imports">#test_imports</a>
    
    <li ><a href="#method-i-test_inline_verbose_default_should_show_command">#test_inline_verbose_default_should_show_command</a>
    
    <li ><a href="#method-i-test_inline_verbose_false_should_not_show_command">#test_inline_verbose_false_should_not_show_command</a>
    
    <li ><a href="#method-i-test_inline_verbose_true_should_show_command">#test_inline_verbose_true_should_show_command</a>
    
    <li ><a href="#method-i-test_invalid_command_line_options">#test_invalid_command_line_options</a>
    
    <li ><a href="#method-i-test_long_description">#test_long_description</a>
    
    <li ><a href="#method-i-test_multi_desc">#test_multi_desc</a>
    
    <li ><a href="#method-i-test_no_system">#test_no_system</a>
    
    <li ><a href="#method-i-test_nosearch_with_rakefile_uses_local_rakefile">#test_nosearch_with_rakefile_uses_local_rakefile</a>
    
    <li ><a href="#method-i-test_nosearch_without_rakefile_and_no_system_fails">#test_nosearch_without_rakefile_and_no_system_fails</a>
    
    <li ><a href="#method-i-test_nosearch_without_rakefile_finds_system">#test_nosearch_without_rakefile_finds_system</a>
    
    <li ><a href="#method-i-test_proper_namespace_access">#test_proper_namespace_access</a>
    
    <li ><a href="#method-i-test_rake_default">#test_rake_default</a>
    
    <li ><a href="#method-i-test_rake_error_on_bad_task">#test_rake_error_on_bad_task</a>
    
    <li ><a href="#method-i-test_rake_namespace_refers_to_toplevel">#test_rake_namespace_refers_to_toplevel</a>
    
    <li ><a href="#method-i-test_rbext">#test_rbext</a>
    
    <li ><a href="#method-i-test_regenerate_imports">#test_regenerate_imports</a>
    
    <li ><a href="#method-i-test_rules_chaining_to_file_task">#test_rules_chaining_to_file_task</a>
    
    <li ><a href="#method-i-test_signal_propagation_in_tests">#test_signal_propagation_in_tests</a>
    
    <li ><a href="#method-i-test_stand_alone_filelist">#test_stand_alone_filelist</a>
    
    <li ><a href="#method-i-test_standalone_verbose_false_should_not_show_command">#test_standalone_verbose_false_should_not_show_command</a>
    
    <li ><a href="#method-i-test_standalone_verbose_true_should_show_command">#test_standalone_verbose_true_should_show_command</a>
    
    <li ><a href="#method-i-test_system">#test_system</a>
    
    <li ><a href="#method-i-test_system_excludes_rakelib_files_too">#test_system_excludes_rakelib_files_too</a>
    
    <li ><a href="#method-i-test_tasks_can_reference_task_in_other_namespaces">#test_tasks_can_reference_task_in_other_namespaces</a>
    
    <li ><a href="#method-i-test_tasks_can_reference_task_in_same_namespace">#test_tasks_can_reference_task_in_same_namespace</a>
    
    <li ><a href="#method-i-test_test_task_descriptions">#test_test_task_descriptions</a>
    
    <li ><a href="#method-i-test_trace_bug">#test_trace_bug</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-TestRakeFunctional">
  <h1 id="class-TestRakeFunctional" class="class">
    class TestRakeFunctional
  </h1>

  <section class="description">
    
  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-can_detect_signals-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">can_detect_signals?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="can_detect_signals-3F-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">can_detect_signals?</span>
  <span class="ruby-identifier">system</span> <span class="ruby-constant">RUBY</span>, <span class="ruby-string">&#39;-e&#39;</span>, <span class="ruby-string">&#39;Process.kill &quot;TERM&quot;, $$&#39;</span>
  <span class="ruby-identifier">status</span> = <span class="ruby-identifier">$?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@verbose</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;    SIG status = #{$?.inspect}&quot;</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;    SIG status.respond_to?(:signaled?) = &quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-node">&quot;#{$?.respond_to?(:signaled?).inspect}&quot;</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;    SIG status.signaled? = #{status.signaled?}&quot;</span> <span class="ruby-keyword">if</span>
      <span class="ruby-identifier">status</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:signaled?</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">status</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:signaled?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">status</span>.<span class="ruby-identifier">signaled?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-setup" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">setup</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="Rake/TestCase.html#method-i-setup">Rake::TestCase#setup</a>
            </div>
          

          
          <div class="method-source-code" id="setup-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">setup</span>
  <span class="ruby-keyword">super</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@verbose</span>
    <span class="ruby-identifier">puts</span>
    <span class="ruby-identifier">puts</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;-&#39;</span> <span class="ruby-operator">*</span> <span class="ruby-value">80</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@__name__</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;-&#39;</span> <span class="ruby-operator">*</span> <span class="ruby-value">80</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_anonymous_tasks_can_be_invoked_indirectly" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_anonymous_tasks_can_be_invoked_indirectly</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_anonymous_tasks_can_be_invoked_indirectly-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_anonymous_tasks_can_be_invoked_indirectly</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;anon&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^ANON COPY$/m</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_block_verbose_false_should_not_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_block_verbose_false_should_not_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_block_verbose_false_should_not_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_block_verbose_false_should_not_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;block_verbose_false&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_block_verbose_true_should_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_block_verbose_true_should_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_block_verbose_true_should_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_block_verbose_true_should_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;block_verbose_true&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_by_default_rakelib_files_are_included" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_by_default_rakelib_files_are_included</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_by_default_rakelib_files_are_included-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 107</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_by_default_rakelib_files_are_included</span>
  <span class="ruby-identifier">rake_system_dir</span>
  <span class="ruby-identifier">rakefile_extra</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-T&#39;</span>, <span class="ruby-string">&#39;extra&#39;</span>, <span class="ruby-string">&#39;--trace&#39;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{extra:extra}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_can_invoke_task_in_nested_namespace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_can_invoke_task_in_nested_namespace</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_can_invoke_task_in_nested_namespace-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 323</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_can_invoke_task_in_nested_namespace</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;nest:copy&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^NEST COPY$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_can_invoke_task_in_toplevel_namespace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_can_invoke_task_in_toplevel_namespace</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_can_invoke_task_in_toplevel_namespace-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_can_invoke_task_in_toplevel_namespace</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;copy&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^COPY$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_comment_after_desc_is_ignored" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_comment_after_desc_is_ignored</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_comment_after_desc_is_ignored-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_comment_after_desc_is_ignored</span>
  <span class="ruby-identifier">rakefile_comments</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-string">&quot;override comment for t3&quot;</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_comment_before_desc_is_ignored" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_comment_before_desc_is_ignored</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_comment_before_desc_is_ignored-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_comment_before_desc_is_ignored</span>
  <span class="ruby-identifier">rakefile_comments</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-string">&quot;override comment for t4&quot;</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_comment_before_task_acts_like_desc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_comment_before_task_acts_like_desc</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_comment_before_task_acts_like_desc-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 387</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_comment_before_task_acts_like_desc</span>
  <span class="ruby-identifier">rakefile_comments</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/comment for t1/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_comment_separated_from_task_by_blank_line_is_not_picked_up" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_comment_separated_from_task_by_blank_line_is_not_picked_up</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_comment_separated_from_task_by_blank_line_is_not_picked_up-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 395</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_comment_separated_from_task_by_blank_line_is_not_picked_up</span>
  <span class="ruby-identifier">rakefile_comments</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-string">&quot;t2&quot;</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_correct_number_of_tasks_reported" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_correct_number_of_tasks_reported</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_correct_number_of_tasks_reported-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_correct_number_of_tasks_reported</span>
  <span class="ruby-identifier">rakefile_comments</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>).<span class="ruby-identifier">grep</span>(<span class="ruby-regexp">/t\d/</span>).<span class="ruby-identifier">size</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_dash_f_with_no_arg_foils_rakefile_lookup" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_dash_f_with_no_arg_foils_rakefile_lookup</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_dash_f_with_no_arg_foils_rakefile_lookup-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_dash_f_with_no_arg_foils_rakefile_lookup</span>
  <span class="ruby-identifier">rakefile_rakelib</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-I&#39;</span>, <span class="ruby-string">&#39;rakelib&#39;</span>, <span class="ruby-string">&#39;-rtest1&#39;</span>, <span class="ruby-string">&#39;-f&#39;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^TEST1$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_dot_rake_files_can_be_loaded_with_dash_r" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_dot_rake_files_can_be_loaded_with_dash_r</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_dot_rake_files_can_be_loaded_with_dash_r-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 306</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_dot_rake_files_can_be_loaded_with_dash_r</span>
  <span class="ruby-identifier">rakefile_rakelib</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-I&#39;</span>, <span class="ruby-string">&#39;rakelib&#39;</span>, <span class="ruby-string">&#39;-rtest2&#39;</span>, <span class="ruby-string">&#39;-f&#39;</span>

  <span class="ruby-identifier">assert_empty</span> <span class="ruby-ivar">@err</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^TEST2$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_dry_run" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_dry_run</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_dry_run-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_dry_run</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-n&quot;</span>, <span class="ruby-string">&quot;other&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{Execute \(dry run\) default}</span>, <span class="ruby-ivar">@err</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{Execute \(dry run\) other}</span>, <span class="ruby-ivar">@err</span>
  <span class="ruby-identifier">refute_match</span> <span class="ruby-regexp">%r{DEFAULT}</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">refute_match</span> <span class="ruby-regexp">%r{OTHER}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_dry_run_bug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_dry_run_bug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test for the trace/dry_run bug found by Brian Chandler</p>
          
          

          
          <div class="method-source-code" id="test_dry_run_bug-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_dry_run_bug</span>
  <span class="ruby-identifier">rakefile_dryrun</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span> <span class="ruby-string">&#39;temp_one&#39;</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--dry-run&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/No such file/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_env_available_at_task_scope" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_env_available_at_task_scope</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_env_available_at_task_scope-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_env_available_at_task_scope</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;TESTTASKSCOPE=1&#39;</span>, <span class="ruby-string">&#39;task_scope&#39;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^TASKSCOPE$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_env_available_at_top_scope" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_env_available_at_top_scope</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_env_available_at_top_scope-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_env_available_at_top_scope</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;TESTTOPSCOPE=1&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^TOPSCOPE$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_failing_test_sets_exit_status" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_failing_test_sets_exit_status</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_failing_test_sets_exit_status-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 456</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_failing_test_sets_exit_status</span>
  <span class="ruby-identifier">skip</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">uncertain_exit_status?</span>
  <span class="ruby-identifier">rakefile_failing_test_task</span>
  <span class="ruby-identifier">rake</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@exit</span>.<span class="ruby-identifier">exitstatus</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-string">&quot;should be non-zero&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_file_creation_task" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_file_creation_task</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_file_creation_task-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_file_creation_task</span>
  <span class="ruby-identifier">rakefile_file_creation</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;prep&quot;</span>
  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;run&quot;</span>
  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;run&quot;</span>

  <span class="ruby-identifier">assert</span>(<span class="ruby-ivar">@err</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp">/^cp src/</span>, <span class="ruby-string">&quot;Should not recopy data&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_file_list_is_requirable_separately" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_file_list_is_requirable_separately</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_file_list_is_requirable_separately-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 427</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_file_list_is_requirable_separately</span>
  <span class="ruby-identifier">ruby</span> <span class="ruby-string">&#39;-rrake/file_list&#39;</span>, <span class="ruby-string">&#39;-e&#39;</span>, <span class="ruby-string">&#39;puts Rake::FileList[&quot;a&quot;].size&#39;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;1\n&quot;</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_file_task_are_not_scoped_by_namespaces" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_file_task_are_not_scoped_by_namespaces</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_file_task_are_not_scoped_by_namespaces-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 363</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_file_task_are_not_scoped_by_namespaces</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;xyz.rb&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^XYZ1\nXYZ2$/m</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_file_task_dependencies_scoped_by_namespaces" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_file_task_dependencies_scoped_by_namespaces</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_file_task_dependencies_scoped_by_namespaces-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 371</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_file_task_dependencies_scoped_by_namespaces</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;scopedep.rb&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^PREPARE\nSCOPEDEP$/m</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_implicit_system" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_implicit_system</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_implicit_system-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_implicit_system</span>
  <span class="ruby-identifier">rake_system_dir</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span> <span class="ruby-ivar">@tempdir</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;sys1&quot;</span>, <span class="ruby-string">&quot;--trace&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^SYS1}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_imports" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_imports</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_imports-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 261</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_imports</span>
  <span class="ruby-identifier">rakefile_imports</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@tempdir</span>, <span class="ruby-string">&#39;dynamic_deps&#39;</span>)),
         <span class="ruby-string">&quot;&#39;dynamic_deps&#39; file should exist&quot;</span>
  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^FIRST$\s+^DYNAMIC$\s+^STATIC$\s+^OTHER$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_inline_verbose_default_should_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_inline_verbose_default_should_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_inline_verbose_default_should_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_inline_verbose_default_should_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;inline_verbose_default&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_inline_verbose_false_should_not_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_inline_verbose_false_should_not_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_inline_verbose_false_should_not_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_inline_verbose_false_should_not_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;inline_verbose_false&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_inline_verbose_true_should_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_inline_verbose_true_should_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_inline_verbose_true_should_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_inline_verbose_true_should_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;inline_verbose_true&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_invalid_command_line_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_invalid_command_line_options</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_invalid_command_line_options-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_invalid_command_line_options</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--bad-options&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{invalid +option}i</span>, <span class="ruby-ivar">@err</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_long_description" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_long_description</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_long_description-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_long_description</span>
  <span class="ruby-identifier">rakefile_multidesc</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--describe&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^rake a\n *A\n *A2 *$}m</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^rake b\n *B *$}m</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^rake d\n *x{80}}m</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">refute_match</span> <span class="ruby-regexp">%r{^rake c\n}m</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_multi_desc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_multi_desc</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_multi_desc-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_multi_desc</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_COLUMNS&#39;</span>] = <span class="ruby-string">&#39;80&#39;</span>
  <span class="ruby-identifier">rakefile_multidesc</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^rake a *# A / A2 *$}</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^rake b *# B *$}</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">refute_match</span> <span class="ruby-regexp">%r{^rake c}</span>, <span class="ruby-ivar">@out</span>
  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^rake d *# x{65}\.\.\.$}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_no_system" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_no_system</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_no_system-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_no_system</span>
  <span class="ruby-identifier">rake_system_dir</span>
  <span class="ruby-identifier">rakefile_extra</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-G&#39;</span>, <span class="ruby-string">&quot;sys1&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^Don&#39;t know how to build task}</span>, <span class="ruby-ivar">@err</span> <span class="ruby-comment"># emacs wart: &#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_nosearch_with_rakefile_uses_local_rakefile" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_nosearch_with_rakefile_uses_local_rakefile</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_nosearch_with_rakefile_uses_local_rakefile-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_nosearch_with_rakefile_uses_local_rakefile</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--nosearch&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^DEFAULT}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_nosearch_without_rakefile_and_no_system_fails" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_nosearch_without_rakefile_and_no_system_fails</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_nosearch_without_rakefile_and_no_system_fails-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_nosearch_without_rakefile_and_no_system_fails</span>
  <span class="ruby-identifier">rakefile_nosearch</span>
  <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;RAKE_SYSTEM&#39;</span>] = <span class="ruby-string">&#39;not_exist&#39;</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--nosearch&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^No Rakefile found}</span>, <span class="ruby-ivar">@err</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_nosearch_without_rakefile_finds_system" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_nosearch_without_rakefile_finds_system</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_nosearch_without_rakefile_finds_system-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 142</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_nosearch_without_rakefile_finds_system</span>
  <span class="ruby-identifier">rakefile_nosearch</span>
  <span class="ruby-identifier">rake_system_dir</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--nosearch&quot;</span>, <span class="ruby-string">&quot;sys1&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^SYS1}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_proper_namespace_access" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_proper_namespace_access</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_proper_namespace_access-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_proper_namespace_access</span>
  <span class="ruby-identifier">rakefile_access</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-identifier">refute_match</span> <span class="ruby-regexp">%r{^BAD:}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_rake_default" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_rake_default</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_rake_default-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 20</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_rake_default</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^DEFAULT$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_rake_error_on_bad_task" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_rake_error_on_bad_task</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_rake_error_on_bad_task-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 28</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_rake_error_on_bad_task</span>
  <span class="ruby-identifier">rakefile_default</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-t&#39;</span>, <span class="ruby-string">&#39;xyz&#39;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/rake aborted/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_rake_namespace_refers_to_toplevel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_rake_namespace_refers_to_toplevel</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_rake_namespace_refers_to_toplevel-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 355</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_rake_namespace_refers_to_toplevel</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;very:nested:run&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^COPY$/m</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_rbext" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_rbext</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_rbext-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_rbext</span>
  <span class="ruby-identifier">rakefile_rbext</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-N&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^OK$}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_regenerate_imports" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_regenerate_imports</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_regenerate_imports-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 271</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_regenerate_imports</span>
  <span class="ruby-identifier">rakefile_regenerate_imports</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^INITIAL\s+^REGENERATED$/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_rules_chaining_to_file_task" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_rules_chaining_to_file_task</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_rules_chaining_to_file_task-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 279</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_rules_chaining_to_file_task</span>
  <span class="ruby-identifier">rakefile_chains</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@tempdir</span>, <span class="ruby-string">&#39;play.app&#39;</span>)),
         <span class="ruby-string">&quot;&#39;play.app&#39; file should exist&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_signal_propagation_in_tests" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_signal_propagation_in_tests</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_signal_propagation_in_tests-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 445</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_signal_propagation_in_tests</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">can_detect_signals?</span>
    <span class="ruby-identifier">rakefile_test_signal</span>
    <span class="ruby-identifier">rake</span>
    <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/ATEST/</span>, <span class="ruby-ivar">@out</span>)
    <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/BTEST/</span>, <span class="ruby-ivar">@out</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">skip</span> <span class="ruby-string">&quot;Signal detect seems broken on this system&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_stand_alone_filelist" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_stand_alone_filelist</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_stand_alone_filelist-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_stand_alone_filelist</span>
  <span class="ruby-identifier">rakefile_stand_alone_filelist</span>

  <span class="ruby-identifier">run_ruby</span> <span class="ruby-ivar">@ruby_options</span> <span class="ruby-operator">+</span> [<span class="ruby-string">&quot;stand_alone_filelist.rb&quot;</span>]

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^stand_alone_filelist\.rb$/</span>, <span class="ruby-ivar">@out</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-ivar">@exit</span>.<span class="ruby-identifier">exitstatus</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">uncertain_exit_status?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_standalone_verbose_false_should_not_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_standalone_verbose_false_should_not_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_standalone_verbose_false_should_not_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_standalone_verbose_false_should_not_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;standalone_verbose_false&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_standalone_verbose_true_should_show_command" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_standalone_verbose_true_should_show_command</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_standalone_verbose_true_should_show_command-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_standalone_verbose_true_should_show_command</span>
  <span class="ruby-identifier">rakefile_verbose</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;standalone_verbose_true&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/#{Regexp.quote(RUBY)} -e/</span>, <span class="ruby-ivar">@err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_system" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_system</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_system-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_system</span>
  <span class="ruby-identifier">rake_system_dir</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-g&#39;</span>, <span class="ruby-string">&quot;sys1&quot;</span>

  <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{^SYS1}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_system_excludes_rakelib_files_too" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_system_excludes_rakelib_files_too</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_system_excludes_rakelib_files_too-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_system_excludes_rakelib_files_too</span>
  <span class="ruby-identifier">rake_system_dir</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&#39;-g&#39;</span>, <span class="ruby-string">&quot;sys1&quot;</span>, <span class="ruby-string">&#39;-T&#39;</span>, <span class="ruby-string">&#39;extra&#39;</span>

  <span class="ruby-identifier">refute_match</span> <span class="ruby-regexp">%r{extra:extra}</span>, <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_tasks_can_reference_task_in_other_namespaces" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_tasks_can_reference_task_in_other_namespaces</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_tasks_can_reference_task_in_other_namespaces-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 339</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_tasks_can_reference_task_in_other_namespaces</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;b:run&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^IN A\nIN B$/m</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_tasks_can_reference_task_in_same_namespace" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_tasks_can_reference_task_in_same_namespace</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_tasks_can_reference_task_in_same_namespace-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 331</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_tasks_can_reference_task_in_same_namespace</span>
  <span class="ruby-identifier">rakefile_namespace</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;nest:xx&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/^NEST COPY$/m</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_test_task_descriptions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_test_task_descriptions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_test_task_descriptions-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 379</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_test_task_descriptions</span>
  <span class="ruby-identifier">rakefile_test_task</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;-T&quot;</span>

  <span class="ruby-identifier">assert_match</span>(<span class="ruby-regexp">/custom test task description/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_trace_bug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_trace_bug</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Test for the trace/dry_run bug found by Brian Chandler</p>
          
          

          
          <div class="method-source-code" id="test_trace_bug-source">
            <pre><span class="ruby-comment"># File test/test_rake_functional.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_trace_bug</span>
  <span class="ruby-identifier">rakefile_dryrun</span>

  <span class="ruby-identifier">rake</span>

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span> <span class="ruby-string">&#39;temp_one&#39;</span>

  <span class="ruby-identifier">rake</span> <span class="ruby-string">&quot;--trace&quot;</span>

  <span class="ruby-identifier">refute_match</span>(<span class="ruby-regexp">/No such file/</span>, <span class="ruby-ivar">@out</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.0.4.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

